<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title></title>
</head>
<body>
<p>
    Provides the interfaces and classes for asynchronous (non-blocking) network I/O processing.
</p>

<p>
    The server side is managed by {@link org.codehaus.larex.io.connector.ServerConnector}s. <br/>
    For each new connection from a remote peer, the following structures are created:</p>
<ul>
    <li>
        a {@link org.codehaus.larex.io.Coordinator}, which coordinates the activities
        among a {@link org.codehaus.larex.io.Channel}, a {@link org.codehaus.larex.io.Connection}
        and a {@link org.codehaus.larex.io.Reactor}
    </li>
    <li>
        a {@link org.codehaus.larex.io.Channel}, which manages the physical I/O
    </li>
    <li>
        a {@link org.codehaus.larex.io.Connection}, which allows user code to be notified of bytes
        read from the physical connection and to write bytes to the remote peer.
    </li>
</ul>
<p>
    The flow of communication between the reactor, the coordinator, the channel and the connection
    is the following, where <code>===</code> is the reactor thread, <code>---</code> is the read
    thread and <code>~~~</code> is the write thread.
</p>
<p>
    Depending on the coordinator implementation, the reactor thread and the read or write threads
    could be the same or could be different.
</p>

<h4>Reads Flow</h4>

<pre>
   Reactor                     Coordinator          Channel           Interceptor           Connection
      | ======= read ready =======> |                  |                   |                    |
      | <== unset read interest === |                  |                   |                    |

      |                             | ----- read ----> |                   |                    | \
      |                             | ------------------------ read -----> |                    |  > Repeated one or more times
      |                             |                  |                   | ------ read -----> | /

      |                             | ---------------------- read end ---> |                    |
      |                             |                  |                   | ---- read end ---> |
      | <--- set read interest ---- |                  |                   |                    |
</pre>

<h4>Writes Flow</h4>

<pre>
    Reactor                    Coordinator          Channel           Interceptor           Connection
      |                             | <---- write --------------------------------------------- |
      |                             | ------------------------ write ----> |                    |
      |                             |                  | <---- write ----- |                    |
</pre>

<h4>Partial Writes Flow</h4>

<pre>
    Reactor                    Coordinator           Channel           Interceptor          Connection
      |                             | <---- write --------------------------------------------- |
      |                             | ------------------------ write ----> |                    |
      |                             |                  | <---- write ----- |                    |
      |                             | <-- set write interest ---------------------------------- |
      | <--- set write interest --- |                  |                   |                    |

      | ======= write ready ======> |                  |                   |                    |
      | <== unset write interest == |                  |                   |                    |
      |                             | ~~~~~~~~~~~~~~~~~~~~ write ready ~~> |                    |
      |                                                                    | ~~ write ready ~~> |
      |                             | <~~~~ write ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ |
      |                             | ~~~~~~~~~~~~~~~~~~~~~~~~ write ~~~~> |                    |
      |                             |                  | <~~~~ write ~~~~~ |                    |
</pre>

</body>
</html>
